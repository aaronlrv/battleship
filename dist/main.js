(()=>{"use strict";let e=[["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10"],["b1","b2","b3","b4","b5","b6","b7","b8","b9","b10"],["c1","c2","c3","c4","c5","c6","c7","c8","c9","c10"],["d1","d2","d3","d4","d5","d6","d7","d8","d9","d10"],["e1","e2","e3","e4","e5","e6","e7","e8","e9","e10"],["f1","f2","f3","f4","f5","f6","f7","f8","f9","f10"],["g1","g2","g3","g4","g5","g6","g7","g8","g9","g10"],["h1","h2","h3","h4","h5","h6","h7","h8","h9","h10"],["i1","i2","i3","i4","i5","i6","i7","i8","i9","i10"],["j1","j2","j3","j4","j5","j6","j7","j8","j9","j10"]];class t{constructor(e,t,o,r){this.name=e,this.start=t,this.length=o,this.hp=o,this.orientation=r}hit(){let e=this.hp;return 0===e?this.sink():e--,e}sunk(){return"ship has sunk"}}class o{constructor(){this.board=[["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10"],["b1","b2","b3","b4","b5","b6","b7","b8","b9","b10"],["c1","c2","c3","c4","c5","c6","c7","c8","c9","c10"],["d1","d2","d3","d4","d5","d6","d7","d8","d9","d10"],["e1","e2","e3","e4","e5","e6","e7","e8","e9","e10"],["f1","f2","f3","f4","f5","f6","f7","f8","f9","f10"],["g1","g2","g3","g4","g5","g6","g7","g8","g9","g10"],["h1","h2","h3","h4","h5","h6","h7","h8","h9","h10"],["i1","i2","i3","i4","i5","i6","i7","i8","i9","i10"],["j1","j2","j3","j4","j5","j6","j7","j8","j9","j10"]]}gameboardPosition(e,t){let o=t.board,r=e,n=r.length,l=r.orientation,a=r.start,c=(r.name,a.split("")),i=c[0],s=+c[1],d=i.toUpperCase().charCodeAt()-65;if("vertical"===l){let e=Number(d);for(let t=0;t<1;t++)if("string"==typeof o[e+t][s]){let e=d;for(let t=0;t<n;t++){if(10===e)return;e++}for(let e=0;e<n;e++){let e=d,t=Number(s);try{o[e][t-1]=r}catch(t){console.log("j was bad"),console.log("J catch:",e),console.log(o),console.log(o[e])}o[e][t-1]=r,d++}}}else{if("horizontal"!==r.orientation)return"Error orientation is incorrect";for(let e=0;e<n;e++)if("string"==typeof o[+d][s+e]&&"string"==typeof o[d][s-2]&&"string"==typeof o[d-1][s-1]){let e=s;for(let t=0;t<n;t++){if(11===e)return;e++}for(let e=0;e<n;e++)o[d][s-1]=r,s++}}return console.table(o),o}recieveAttack(e,t){let o=t.board,r=e.split(""),n=r[0],l=r[1],a=n.toUpperCase().charCodeAt()-65,c=o[a][l-1];if("string"!=typeof c)c.hit(),o[a][l-1]="o";else{if("x"===c)return"INVALID CHOICE";o[a][l-1]="x"}return o}allSunk(e){let t=e.board,o=[];return t.forEach((e=>{e.forEach((e=>{o.push(e)}))})),!0===o.every((e=>"string"==typeof e))?"THE WINNER":"play on"}computerGenerate(){let e=Math.floor(7*Math.random()+3),t=Math.floor(7*Math.random()+3),o=Math.ceil(0),r=Math.max(2);return{row:e,column:t,orientation:["horizontal","vertical"][Math.floor(Math.random()*(r-o)+o)]}}}class r{constructor(e,t){this.name=e,this.arr=[],this.attack=t}computerPlay(){let t=this.arr,o=Math.floor(8*Math.random()+0),r=Math.floor(8*Math.random()+0),n=e[o][r];if(console.log("Computer move:",n),console.log("Computer Array",t),-1===t.indexOf(n))return t.push(n),n;this.computerPlay()}}let n=document.querySelector(".playerArray"),l=document.querySelector(".computerArray");function a(e,t){let o=0,r=[];[["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10"],["b1","b2","b3","b4","b5","b6","b7","b8","b9","b10"],["c1","c2","c3","c4","c5","c6","c7","c8","c9","c10"],["d1","d2","d3","d4","d5","d6","d7","d8","d9","d10"],["e1","e2","e3","e4","e5","e6","e7","e8","e9","e10"],["f1","f2","f3","f4","f5","f6","f7","f8","f9","f10"],["g1","g2","g3","g4","g5","g6","g7","g8","g9","g10"],["h1","h2","h3","h4","h5","h6","h7","h8","h9","h10"],["i1","i2","i3","i4","i5","i6","i7","i8","i9","i10"],["j1","j2","j3","j4","j5","j6","j7","j8","j9","j10"]].forEach((e=>{e.forEach((e=>{r.push(e)}))})),n.textContent="",l.textContent="",e.forEach((e=>{e.forEach((e=>{if("string"!=typeof e){let t=e.name,l=document.createElement("div");l.textContent=t,n.append(l),l.style.backgroundColor="#7391C8",l.style.color="#7391C8",l.dataset.cell=r[o],o++}else if("o"===e){let t=document.createElement("div");t.textContent=e,t.style.backgroundColor=" #A2C4E0",t.style.color="#A2C4E0",n.append(t),t.dataset.cell=r[o],o++}else if("x"===e){let t=document.createElement("div");t.textContent=e,t.style.backgroundColor="#BDC6D9",t.style.color="#BDC6D9",n.append(t),t.dataset.cell=r[o],o++}else{let t=document.createElement("div");t.textContent=e,t.style.backgroundColor=" #52688f",t.style.color="#52688f",n.append(t),t.dataset.cell=r[o],o++}}))})),o=0,t.forEach((e=>{for(let t=0;t<e.length;t++)if("o"===e[t]){let n=document.createElement("div");n.textContent=e[t],l.append(n),n.style.backgroundColor=" #A2C4E0",n.style.color="#A2C4E0",n.dataset.cell=r[o],o++}else if("x"===e[t]){let n=document.createElement("div");n.textContent=e[t],n.style.backgroundColor="#BDC6D9",n.style.color="#BDC6D9",l.append(n),n.dataset.cell=r[o],o++}else{let n=document.createElement("div");n.textContent=e[t],l.append(n),n.style.backgroundColor=" #52688f",n.style.color="#52688f",n.dataset.cell=r[o],o++}}))}function c(e,t){let o=[],r=t;if(r<2)return;console.log("Length:",r);let l=e.board;n.addEventListener("mouseover",(e=>{o.forEach((e=>{e.style.backgroundColor=" #52688f",e.style.color=" #52688f"}));let t=document.querySelector(".btn").textContent,a=e.target.dataset.cell.split(""),c=a[0],i=Number(a[1]),s=c.toUpperCase().charCodeAt()-65;if("vertical"===t)for(let e=0;e<r;e++){let e=s,t=Number(i);Array.from(n.children).forEach((r=>{r.dataset.cell===l[e][t-1]&&(r.style.backgroundColor="#F7CB2D",r.style.color="#F7CB2D",o.push(r))})),s++}if("horizontal"===t)for(let e=0;e<r;e++){let e=s;Array.from(n.children).forEach((t=>{t.dataset.cell===l[e][i-1]&&(t.style.backgroundColor="#F7CB2D",t.style.color="#F7CB2D",o.push(t))})),i++}}))}document.querySelector(".turn");let i=document.querySelector(".playerArray"),s=document.querySelector(".computerArray"),d=(document.querySelector(".winner-text"),document.querySelector(".btn")),u=document.querySelector(".turn"),f=new o,h=new o,g=(new r("player"),new r("computer"));a(f.board,h.board),c(f,5),d.addEventListener("click",(e=>{"vertical"===e.target.textContent?d.textContent="horizontal":d.textContent="vertical"})),i.addEventListener("click",(o=>{let r=d.textContent;console.log(r);let n=o.target.textContent;console.log("Cell:",n),function(o,r){let n=f.board;if(!n.some((e=>e.some((e=>"ds"===e.name))))){if(n.some((e=>e.some((e=>"cr"===e.name))))){let n=new t("ds",o,2,r),l=f.gameboardPosition(n,f);return void 0===l?(console.log(l),console.log("Pick another position!")):a(l,h.board),function(){let o,r;for(let n=2;n<6;n++){if(2===n&&(o="ds",r=2),3===n){o="su",r=3;for(let r=0;r<=2;r++){let r=new t(o,e[h.computerGenerate().row][h.computerGenerate().column],3,h.computerGenerate().orientation);console.log(r),h.gameboardPosition(r,h),a(f.board,h.board),o="cr"}}4===n&&(o="bs",r=4),5===n&&(o="ca",r=5);let l=new t(o,e[h.computerGenerate().row][h.computerGenerate().column],r,h.computerGenerate().orientation);console.log(l),h.gameboardPosition(l,h),a(f.board,h.board)}}(),u.textContent="Player Turn",void i.removeEventListener("click",(()=>{m--,c(f,m),console.log(m)}))}if(n.some((e=>e.some((e=>"su"===e.name))))){let e=new t("cr",o,3,r),n=f.gameboardPosition(e,f);void 0===n?(console.log(n),console.log("Pick another position!")):a(n,h.board)}else if(n.some((e=>e.some((e=>"bs"===e.name))))){let e=new t("su",o,3,r),n=f.gameboardPosition(e,f);void 0===n?(console.log(n),console.log("Pick another position")):a(n,h.board)}else if(n.some((e=>e.some((e=>"ca"===e.name))))){let e=new t("bs",o,4,r),n=f.gameboardPosition(e,f);void 0===n?(console.log(n),console.log("Pick another position!")):a(n,h.board)}else if(n.every((e=>e.every((e=>"string"==typeof e))))){let e=new t("ca",o,5,r),n=f.gameboardPosition(e,f);void 0===n?(console.log(n),console.log("Pick another position!")):a(n,h.board)}else console.log(f.board)}}(n,r)}));let m=5;i.addEventListener("click",(()=>{m--,c(f,m),console.log(m)})),s.addEventListener("click",(e=>{if("Player Turn"===u.textContent&&"Place your ships"!==u.textContent){let t=e.target.dataset.cell;if(console.log("Attack cell:",t),h.recieveAttack(t,h),console.log("Computer Gameboard",h),"THE WINNER"===h.allSunk(h))return u.textContent="Player has won!",void a(f.board,h.board);u.textContent="Computer Turn",a(f.board,h.board),console.log("Player turn finished"),function(){if("Player Turn"!==u.textContent){let e=g.computerPlay();if(console.log(e),void 0===e)return g.computerPlay();if(f.recieveAttack(e,f),a(f.board,h.board),"THE WINNER"===f.allSunk(f))return void(u.textContent="Computer has won!");u.textContent="Player Turn",console.log("Computer turn finished")}}()}}))})();
//# sourceMappingURL=main.js.map